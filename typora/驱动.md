## 2. LINUX 驱动：

## 2.1. 驱动认识

​		Linux特点：一切皆为文件。  
​		驱动程序运行于内核空间，用户空间的应用程序通过文件系统中`/dev/`目录下的文件进行交互，即：交互流程就是通过统一定义与标准封装的系统调用实现：`open()→read()/write()/ioctl()→close()`，即：		
​				驱动就是对底层硬件设备的操作进行封装，并向上层提供函数接口。

​		驱动与内核之间没有界限，因为驱动程序最终都是要编如内核中，通过：  
​				①静态链接：  
​				②动态加载：

## 2.2. 驱动分类

### 2.2.1. 字符设备驱动：

​		字符设备提供一种数据流一样访问的设备，读写以字节为单位，只能一个字节一个字节读写的设备，不能随机读取设备内存中的某一数据，读取数据需按照先后顺序，可在驱动程序内使用缓冲区存放数据以提高效率。  
​		绝大多数的均为字符设备，如：字符终端**（/dev/console）、**GPIO、LED、串口(**/dev/ttyS0**)、蜂鸣器、声卡、鼠标、键盘、显示器等。

### 2.2.2. 块设备驱动：

​		块设备提供可在任意位置读取一定长度数据的设备。  
​		一般为存储设备，如：U盘、硬盘、TF卡等。

### 3.3. 网络设备驱动：

​		网络设备为特殊设备驱动，负责接收和发送帧数据。同时具有字符设备、块设备的部分特点，无法将它归入这两类中：如果说它是字符设备，他的输入/输出却是有结构的、成块的(报文、包、帧)；如果说它是块设备，它的“块”又不是固定大小的，大到数百甚至数千字节，小到几字节。  
​		一般为通信设备，如：wifi、以太网、蓝牙等。



## 2.实现过程：

​		（1）编写设备与驱动代码。  
​		（2）当总线的驱动与设备代码相匹配后，便产生`probe`行为。  
​		（3）  
​		（4）  
​		（5）  
​		（6）









# 1.

